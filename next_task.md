# Input Hook 문제 분석 및 해결 계획

## 1. 현재 발견된 문제점

### 구조적 문제
- `main.ts`의 키보드 이벤트 수신 구조 불완전
  - ipcMain으로 이벤트 수신은 되나 실제 전달 과정이 미흡
- `preload.ts`에서 `@nut-tree-fork/nut-js` 사용한 이벤트 추적 시도 중

### 시스템 관련 문제
- OS 레벨 접근성 권한 확인 필요
- 시스템 전역 이벤트 캡처 가능 여부 확인 필요

### 기술적 문제
- contextIsolation으로 인한 프로세스 간 통신 제한
- 키보드 이벤트 캡처 범위 제한

## 2. 다음 단계 계획

### 권한 확인
1. [ ] macOS 접근성 권한 상태 확인
2. [ ] 시스템 이벤트 모니터링 권한 확인

### 코드 분석
1. [ ] `@nut-tree-fork/nut-js` 라이브러리 동작 방식 검증
2. [ ] IPC 통신 구조 상세 분석
3. [ ] 이벤트 전파 경로 추적

### 시스템 설정
1. [ ] macOS 보안 설정 확인
2. [ ] 앱 샌드박스 정책 검토

## 3. 해결 방안 (검토 필요)
- OS 레벨 권한 관리 개선
- IPC 통신 구조 재설계
- 이벤트 캡처 방식 최적화
